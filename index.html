<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>رعد ⚡</title>
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Amiri:wght@400;700&family=Reem+Kufi:wght@400;700&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --gold: #FFD700;
            --dark-gold: #b8860b;
            --bg: #0a0a0a;
            --card: #161616;
            --text: #FFD700;
            --light-text: #f8f9fa;
            --success: #28a745;
            --danger: #dc3545;
            --primary: #007bff;
            --challenge-blue: #3498db;
            --challenge-green: #2ecc71;
            --challenge-purple: #9b59b6;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Amiri', serif;
            background: var(--bg);
            color: var(--text);
            min-height: 100vh;
            padding-bottom: 80px;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            padding: 15px;
        }
        
        h1 {
            text-align: center;
            font-family: 'Reem Kufi', sans-serif;
            font-size: 2.5rem;
            margin-bottom: 20px;
            color: var(--gold);
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.3);
        }
        
        .subtitle {
            text-align: center;
            color: var(--light-text);
            margin-bottom: 20px;
            font-size: 1.2rem;
        }
        
        /* Navigation */
        nav {
            display: grid;
            grid-template-columns: repeat(8, 1fr);
            gap: 8px;
            margin-bottom: 20px;
            background: var(--card);
            padding: 10px;
            border-radius: 15px;
            border: 1px solid var(--gold);
        }
        
        nav button {
            background: transparent;
            border: none;
            color: var(--text);
            padding: 12px 5px;
            border-radius: 8px;
            font-size: 0.9rem;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
        }
        
        nav button i {
            font-size: 1.2rem;
        }
        
        nav button:hover {
            background: rgba(255, 215, 0, 0.1);
        }
        
        nav button.active {
            background: var(--gold);
            color: black;
            font-weight: bold;
        }
        
        /* Sections */
        .section {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .active-section {
            display: block;
        }
        
        /* صفحة المطور */
        .developer-section {
            padding: 20px;
        }
        
        .developer-card {
            background: var(--card);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            border: 3px solid var(--gold);
            margin-bottom: 30px;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.1);
        }
        
        .developer-icon {
            font-size: 4rem;
            color: var(--gold);
            margin-bottom: 20px;
        }
        
        .developer-name {
            font-size: 2.5rem;
            color: var(--gold);
            margin-bottom: 10px;
            font-family: 'Reem Kufi';
        }
        
        .developer-title {
            font-size: 1.3rem;
            color: var(--light-text);
            margin-bottom: 30px;
        }
        
        .developer-info {
            text-align: right;
            line-height: 2;
            font-size: 1.1rem;
            color: #ddd;
            margin-bottom: 30px;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
        
        .feature-card {
            background: var(--card);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid var(--gold);
            text-align: center;
            transition: transform 0.3s;
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            color: var(--gold);
            margin-bottom: 15px;
        }
        
        .technologies {
            margin-top: 50px;
        }
        
        .tech-badges {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
        }
        
        .tech-badge {
            background: linear-gradient(135deg, var(--card), #222);
            border: 1px solid var(--gold);
            padding: 10px 20px;
            border-radius: 25px;
            color: var(--text);
            font-size: 0.9rem;
        }
        
        .thank-you {
            text-align: center;
            margin-top: 50px;
            padding: 30px;
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.1), transparent);
            border-radius: 20px;
            border: 2px dashed var(--gold);
        }
        
        /* صفحة القرآن */
        .quran-section {
            padding: 20px;
        }
        
        .surahs-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .surah-card {
            background: var(--card);
            border-radius: 12px;
            padding: 15px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .surah-card:hover {
            border-color: var(--gold);
            transform: translateY(-5px);
        }
        
        .surah-number {
            background: var(--gold);
            color: black;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 10px;
            font-weight: bold;
        }
        
        .surah-name {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 1.2rem;
        }
        
        .surah-info {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        .player-controls {
            background: var(--card);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            border: 1px solid var(--gold);
        }
        
        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .player-progress {
            width: 100%;
            height: 8px;
            background: #333;
            border-radius: 4px;
            margin: 20px 0;
            overflow: hidden;
        }
        
        .player-progress-bar {
            height: 100%;
            background: var(--gold);
            width: 30%;
            border-radius: 4px;
        }
        
        .player-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .player-btn {
            background: var(--card);
            border: 2px solid var(--gold);
            color: var(--text);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .player-btn:hover {
            background: var(--gold);
            color: black;
        }
        
        /* صفحة الأذكار */
        .azkar-section {
            padding: 20px;
        }
        
        .azkar-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding: 10px 0;
        }
        
        .azkar-tab {
            background: var(--card);
            border: 2px solid transparent;
            color: var(--text);
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s;
        }
        
        .azkar-tab.active {
            background: var(--gold);
            color: black;
            border-color: var(--gold);
            font-weight: bold;
        }
        
        .zekr-card {
            background: var(--card);
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            border-right: 5px solid var(--gold);
            position: relative;
        }
        
        .zekr-content {
            font-size: 1.4rem;
            line-height: 2;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .zekr-description {
            color: #aaa;
            font-size: 1rem;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .zekr-count {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-top: 20px;
        }
        
        .count-btn {
            background: var(--gold);
            color: black;
            border: none;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            font-size: 1.5rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .count-btn:hover {
            background: #ffed4e;
            transform: scale(1.1);
        }
        
        .count-display {
            font-size: 2rem;
            font-weight: bold;
            min-width: 60px;
            text-align: center;
        }
        
        /* صفحة المسبحة */
        .tasbih-section {
            padding: 20px;
            text-align: center;
        }
        
        .counter-display {
            font-size: 8rem;
            font-weight: bold;
            color: var(--gold);
            margin: 30px 0;
            text-shadow: 0 0 20px rgba(255, 215, 0, 0.5);
            font-family: 'Reem Kufi';
        }
        
        .counter-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin: 40px 0;
        }
        
        .counter-btn {
            background: var(--card);
            border: 3px solid var(--gold);
            color: var(--text);
            width: 80px;
            height: 80px;
            border-radius: 50%;
            font-size: 2rem;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
        }
        
        .counter-btn:hover {
            background: var(--gold);
            color: black;
            transform: scale(1.1);
        }
        
        .counter-btn.main {
            width: 100px;
            height: 100px;
            font-size: 2.5rem;
            background: var(--gold);
            color: black;
        }
        
        .presets {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 30px;
        }
        
        .preset-btn {
            background: var(--card);
            border: 2px solid var(--gold);
            color: var(--text);
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .preset-btn:hover {
            background: var(--gold);
            color: black;
        }
        
        /* صفحة الحديث */
        .hadith-section {
            padding: 20px;
        }
        
        .hadith-card {
            background: var(--card);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid var(--gold);
        }
        
        .hadith-text {
            font-size: 1.6rem;
            line-height: 2;
            text-align: center;
            margin-bottom: 25px;
            color: var(--light-text);
        }
        
        .hadith-reference {
            text-align: left;
            color: #aaa;
            font-size: 1.1rem;
            margin-bottom: 20px;
        }
        
        .hadith-explanation {
            background: rgba(255, 215, 0, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-top: 20px;
            color: #ddd;
            line-height: 1.8;
        }
        
        .hadith-actions {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 30px;
        }
        
        /* صفحة القبلة */
        .qibla-section {
            padding: 20px;
            text-align: center;
        }
        
        .compass-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 30px auto;
        }
        
        .compass {
            width: 100%;
            height: 100%;
            border: 5px solid var(--gold);
            border-radius: 50%;
            position: relative;
            transition: transform 1s ease;
        }
        
        .compass-direction {
            position: absolute;
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--text);
        }
        
        .north {
            top: 10px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .south {
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .east {
            top: 50%;
            right: 10px;
            transform: translateY(-50%);
        }
        
        .west {
            top: 50%;
            left: 10px;
            transform: translateY(-50%);
        }
        
        .compass-needle {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 80%;
            height: 4px;
            background: var(--danger);
            transform-origin: left center;
            transform: translateY(-50%) rotate(0deg);
        }
        
        .qibla-info {
            background: var(--card);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
            border: 1px solid var(--gold);
        }
        
        /* صفحة التنبيهات */
        .notifications-section {
            padding: 20px;
        }
        
        .notification-card {
            background: var(--card);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 20px;
            border-left: 5px solid var(--gold);
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .notification-icon {
            font-size: 1.8rem;
            color: var(--gold);
        }
        
        .notification-content {
            flex: 1;
        }
        
        .notification-time {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 60px;
            height: 34px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #333;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 26px;
            width: 26px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--gold);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        /* صفحة القرآن - مواصفات */
        .quran-features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }
        
        .feature-item {
            background: var(--card);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 1px solid var(--gold);
        }
        
        .feature-item i {
            font-size: 2.5rem;
            color: var(--gold);
            margin-bottom: 15px;
        }
        
        /* Challenges Section Styles */
        .stats-header {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, var(--card), #1a1a1a);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 2px solid var(--gold);
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-icon {
            font-size: 2.5rem;
            color: var(--gold);
            margin-bottom: 10px;
        }
        
        .stat-value {
            font-size: 2.2rem;
            font-weight: bold;
            color: var(--text);
            font-family: 'Reem Kufi';
        }
        
        .stat-label {
            color: #aaa;
            font-size: 0.9rem;
            margin-top: 5px;
        }
        
        .level-progress {
            background: var(--card);
            border-radius: 15px;
            padding: 20px;
            margin-bottom: 25px;
            border: 1px solid var(--gold);
        }
        
        .level-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
        }
        
        .progress-bar-container {
            height: 20px;
            background: #333;
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 10px;
        }
        
        .level-progress-bar {
            height: 100%;
            background: linear-gradient(90deg, var(--gold), #ffed4e);
            width: 0%;
            transition: width 0.5s;
            border-radius: 10px;
        }
        
        .challenge-tabs {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            overflow-x: auto;
            padding: 10px 0;
        }
        
        .challenge-tab {
            background: var(--card);
            border: 2px solid transparent;
            color: var(--text);
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            white-space: nowrap;
            transition: all 0.3s;
        }
        
        .challenge-tab.active {
            background: var(--gold);
            color: black;
            border-color: var(--gold);
            font-weight: bold;
        }
        
        .challenge-category {
            margin-bottom: 30px;
        }
        
        .challenge-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
        }
        
        .challenge-card {
            background: var(--card);
            border-radius: 15px;
            padding: 20px;
            border-left: 5px solid var(--challenge-blue);
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
        }
        
        .challenge-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.3);
        }
        
        .challenge-card.daily {
            border-left-color: var(--challenge-green);
        }
        
        .challenge-card.weekly {
            border-left-color: var(--challenge-purple);
        }
        
        .challenge-card.monthly {
            border-left-color: var(--gold);
        }
        
        .challenge-card.completed {
            background: linear-gradient(135deg, #1a2a1a, var(--card));
        }
        
        .challenge-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            background: var(--gold);
            color: black;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .challenge-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }
        
        .challenge-title {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 10px;
            color: var(--text);
        }
        
        .challenge-description {
            color: #aaa;
            margin-bottom: 15px;
            line-height: 1.6;
        }
        
        .challenge-reward {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--gold);
            margin-bottom: 15px;
        }
        
        .challenge-progress {
            margin-bottom: 15px;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-bottom: 5px;
            color: #aaa;
        }
        
        .mini-progress-bar {
            height: 8px;
            background: #333;
            border-radius: 4px;
            overflow: hidden;
        }
        
        .mini-progress {
            height: 100%;
            background: var(--challenge-blue);
            border-radius: 4px;
        }
        
        .challenge-actions {
            display: flex;
            gap: 10px;
            margin-top: 15px;
        }
        
        .btn-complete {
            background: var(--success);
            color: white;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            flex: 1;
            transition: all 0.3s;
        }
        
        .btn-complete:hover {
            background: #218838;
        }
        
        .btn-complete:disabled {
            background: #666;
            cursor: not-allowed;
        }
        
        .achievements-section {
            margin-top: 40px;
        }
        
        .achievements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 15px;
        }
        
        .achievement-card {
            background: var(--card);
            border-radius: 15px;
            padding: 20px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s;
        }
        
        .achievement-card.unlocked {
            border-color: var(--gold);
        }
        
        .achievement-icon {
            font-size: 2.5rem;
            color: #666;
            margin-bottom: 10px;
        }
        
        .achievement-card.unlocked .achievement-icon {
            color: var(--gold);
        }
        
        .achievement-title {
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .achievement-desc {
            color: #aaa;
            font-size: 0.9rem;
        }
        
        .rewards-section {
            margin-top: 40px;
        }
        
        .rewards-container {
            background: var(--card);
            border-radius: 15px;
            padding: 20px;
        }
        
        .reward-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #333;
        }
        
        .reward-item:last-child {
            border-bottom: none;
        }
        
        .reward-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .reward-icon {
            font-size: 1.5rem;
            color: var(--gold);
        }
        
        .reward-claim {
            background: var(--gold);
            color: black;
            border: none;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
        }
        
        .reward-claim:disabled {
            background: #666;
            cursor: not-allowed;
        }
        
        .streak-animation {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.9);
            padding: 30px;
            border-radius: 20px;
            border: 3px solid var(--gold);
            text-align: center;
            z-index: 10000;
            display: none;
        }
        
        .streak-animation.show {
            display: block;
            animation: popIn 0.5s ease;
        }
        
        @keyframes popIn {
            0% { transform: translate(-50%, -50%) scale(0.5); opacity: 0; }
            100% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
        }
        
        .fireworks {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
            display: none;
        }
        
        .firework {
            position: absolute;
            width: 5px;
            height: 5px;
            background: var(--gold);
            border-radius: 50%;
            animation: explode 1s ease-out;
        }
        
        @keyframes explode {
            0% { transform: scale(1); opacity: 1; }
            100% { transform: scale(20); opacity: 0; }
        }
        
        /* Footer Navigation */
        .footer-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: var(--card);
            border-top: 2px solid var(--gold);
            padding: 10px;
            display: flex;
            justify-content: space-around;
            z-index: 1000;
        }
        
        .footer-btn {
            background: transparent;
            border: none;
            color: var(--text);
            padding: 10px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            font-size: 0.8rem;
        }
        
        .footer-btn.active {
            color: var(--gold);
        }
        
        /* Utility Classes */
        .btn {
            background: var(--gold);
            color: black;
            border: none;
            padding: 12px 25px;
            border-radius: 8px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn:hover {
            background: #ffed4e;
            transform: translateY(-2px);
        }
        
        .btn-secondary {
            background: var(--card);
            color: var(--text);
            border: 1px solid var(--gold);
        }
        
        .btn-secondary:hover {
            background: rgba(255, 215, 0, 0.1);
        }
        
        .hidden {
            display: none !important;
        }
        
        .loading {
            text-align: center;
            padding: 40px;
            font-size: 1.2rem;
        }
        
        .error {
            background: rgba(220, 53, 69, 0.1);
            border: 1px solid var(--danger);
            color: var(--danger);
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        /* Responsive */
        @media (max-width: 768px) {
            nav {
                grid-template-columns: repeat(4, 1fr);
            }
            
            .stats-header {
                grid-template-columns: repeat(3, 1fr);
            }
            
            .challenge-grid {
                grid-template-columns: 1fr;
            }
            
            .achievements-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .developer-card {
                padding: 20px;
            }
            
            .developer-name {
                font-size: 2rem;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
            
            .compass-container {
                width: 250px;
                height: 250px;
            }
            
            .counter-display {
                font-size: 6rem;
            }
            
            .surahs-grid {
                grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            }
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            nav button {
                font-size: 0.8rem;
                padding: 8px 3px;
            }
            
            nav button i {
                font-size: 1rem;
            }
            
            .stat-card {
                padding: 15px;
            }
            
            .stat-value {
                font-size: 1.8rem;
            }
            
            .compass-container {
                width: 200px;
                height: 200px;
            }
            
            .counter-display {
                font-size: 5rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1><i class="fas fa-mosque"></i> رعد</h1>
        <div class="subtitle">تطبيق إسلامي متكامل للقرآن والأذكار والعبادات</div>
        
        <!-- Main Navigation -->
        <nav>
            <button class="active" onclick="showSection('quran')" id="m-quran">
                <i class="fas fa-quran"></i>
                <span>المصحف</span>
            </button>
            <button onclick="showSection('azkar')" id="m-azkar">
                <i class="fas fa-pray"></i>
                <span>الأذكار</span>
            </button>
            <button onclick="showSection('tasbih')" id="m-tasbih">
                <i class="fas fa-hands-praying"></i>
                <span>المسبحة</span>
            </button>
            <button onclick="showSection('challenges')" id="m-challenges">
                <i class="fas fa-trophy"></i>
                <span>التحديات</span>
            </button>
            <button onclick="showSection('hadith')" id="m-hadith">
                <i class="fas fa-book-open"></i>
                <span>الحديث</span>
            </button>
            <button onclick="showSection('qibla')" id="m-qibla">
                <i class="fas fa-compass"></i>
                <span>القبلة</span>
            </button>
            <button onclick="showSection('notifications')" id="m-notifications">
                <i class="fas fa-bell"></i>
                <span>التنبيهات</span>
            </button>
            <button onclick="showSection('developer')" id="m-developer">
                <i class="fas fa-code"></i>
                <span>المطور</span>
            </button>
        </nav>
        
        <!-- القرآن الكريم Section -->
        <section id="quran" class="section active-section">
            <div class="quran-section">
                <h2><i class="fas fa-quran"></i> القرآن الكريم</h2>
                <p style="color: #aaa; margin-bottom: 20px; text-align: center;">استمع واقرأ القرآن الكريم كاملاً بتلاوات مختلفة</p>
                
                <div class="quran-features">
                    <div class="feature-item">
                        <i class="fas fa-play-circle"></i>
                        <h3>تلاوات</h3>
                        <p>استمع للقرآن بأصوات أشهر القراء</p>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-book-open"></i>
                        <h3>قراءة</h3>
                        <p>اقرأ القرآن مع التفسير الميسر</p>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-bookmark"></i>
                        <h3>العلامات</h3>
                        <p>ضع علامات على آياتك المفضلة</p>
                    </div>
                    <div class="feature-item">
                        <i class="fas fa-search"></i>
                        <h3>بحث</h3>
                        <p>ابحث عن أي آية أو كلمة في القرآن</p>
                    </div>
                </div>
                
                <div class="player-controls">
                    <div class="player-header">
                        <div>
                            <h3 style="color: var(--gold);">سورة الفاتحة</h3>
                            <p style="color: #aaa;">القارئ: مشاري العفاسي</p>
                        </div>
                        <div style="color: var(--gold); font-size: 1.2rem;">
                            <i class="fas fa-heart"></i> ١٢٥
                        </div>
                    </div>
                    
                    <div class="player-progress">
                        <div class="player-progress-bar"></div>
                    </div>
                    
                    <div class="player-buttons">
                        <div class="player-btn" onclick="playAudio('prev')">
                            <i class="fas fa-step-backward"></i>
                        </div>
                        <div class="player-btn" onclick="playAudio('play')">
                            <i class="fas fa-play"></i>
                        </div>
                        <div class="player-btn" onclick="playAudio('pause')">
                            <i class="fas fa-pause"></i>
                        </div>
                        <div class="player-btn" onclick="playAudio('next')">
                            <i class="fas fa-step-forward"></i>
                        </div>
                    </div>
                </div>
                
                <h3 style="margin: 30px 0 20px; color: var(--gold);">السور</h3>
                <div class="surahs-grid">
                    <div class="surah-card" onclick="selectSurah(1)">
                        <div class="surah-number">١</div>
                        <div class="surah-name">الفاتحة</div>
                        <div class="surah-info">مكية • ٧ آيات</div>
                    </div>
                    <div class="surah-card" onclick="selectSurah(2)">
                        <div class="surah-number">٢</div>
                        <div class="surah-name">البقرة</div>
                        <div class="surah-info">مدنية • ٢٨٦ آية</div>
                    </div>
                    <div class="surah-card" onclick="selectSurah(3)">
                        <div class="surah-number">٣</div>
                        <div class="surah-name">آل عمران</div>
                        <div class="surah-info">مدنية • ٢٠٠ آية</div>
                    </div>
                    <div class="surah-card" onclick="selectSurah(114)">
                        <div class="surah-number">١١٤</div>
                        <div class="surah-name">الناس</div>
                        <div class="surah-info">مكية • ٦ آيات</div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- الأذكار Section -->
        <section id="azkar" class="section">
            <div class="azkar-section">
                <h2><i class="fas fa-pray"></i> الأذكار</h2>
                <p style="color: #aaa; margin-bottom: 20px; text-align: center;">أذكار الصباح والمساء وأذكار ما بعد الصلاة</p>
                
                <div class="azkar-tabs">
                    <button class="azkar-tab active" onclick="showZekrCategory('morning')">
                        <i class="fas fa-sun"></i> أذكار الصباح
                    </button>
                    <button class="azkar-tab" onclick="showZekrCategory('evening')">
                        <i class="fas fa-moon"></i> أذكار المساء
                    </button>
                    <button class="azkar-tab" onclick="showZekrCategory('prayer')">
                        <i class="fas fa-mosque"></i> بعد الصلاة
                    </button>
                    <button class="azkar-tab" onclick="showZekrCategory('sleep')">
                        <i class="fas fa-bed"></i> أذكار النوم
                    </button>
                </div>
                
                <div id="morningAzkar" class="zekr-category">
                    <div class="zekr-card">
                        <div class="zekr-content">
                            أَعُوذُ بِاللهِ مِنَ الشَّيْطَانِ الرَّجِيمِ
                        </div>
                        <div class="zekr-description">
                            اللَّهُ لاَ إِلَهَ إِلاَّ هُوَ الْحَيُّ الْقَيُّومُ، لاَ تَأْخُذُهُ سِنَةٌ وَلاَ نَوْمٌ، لَّهُ مَا فِي السَّمَاوَاتِ وَمَا فِي الأَرْضِ، مَن ذَا الَّذِي يَشْفَعُ عِنْدَهُ إِلاَّ بِإِذْنِهِ، يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ، وَلاَ يُحِيطُونَ بِشَيْءٍ مِّنْ عِلْمِهِ إِلاَّ بِمَا شَاءَ، وَسِعَ كُرْسِيُّهُ السَّمَاوَاتِ وَالأَرْضَ، وَلاَ يَئُودُهُ حِفْظُهُمَا، وَهُوَ الْعَلِيُّ الْعَظِيمُ
                        </div>
                        <div class="zekr-count">
                            <button class="count-btn" onclick="changeCount(-1)">-</button>
                            <div class="count-display">1</div>
                            <button class="count-btn" onclick="changeCount(1)">+</button>
                        </div>
                    </div>
                    
                    <div class="zekr-card">
                        <div class="zekr-content">
                            بِسْمِ اللهِ الرَّحْمنِ الرَّحِيم
                        </div>
                        <div class="zekr-description">
                            قُلْ هُوَ اللَّهُ أَحَدٌ، اللَّهُ الصَّمَدُ، لَمْ يَلِدْ وَلَمْ يُولَدْ، وَلَمْ يَكُن لَّهُ كُفُوًا أَحَدٌ
                        </div>
                        <div class="zekr-count">
                            <button class="count-btn" onclick="changeCount(-1)">-</button>
                            <div class="count-display">3</div>
                            <button class="count-btn" onclick="changeCount(1)">+</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- المسبحة Section -->
        <section id="tasbih" class="section">
            <div class="tasbih-section">
                <h2><i class="fas fa-hands-praying"></i> المسبحة الرقمية</h2>
                <p style="color: #aaa; margin-bottom: 30px;">استخدم المسبحة الرقمية للتسبيح والتحميد والتهليل</p>
                
                <div class="counter-display" id="counter">0</div>
                
                <div class="counter-buttons">
                    <button class="counter-btn" onclick="changeTasbih(-10)">
                        -10
                    </button>
                    <button class="counter-btn" onclick="changeTasbih(-1)">
                        -1
                    </button>
                    <button class="counter-btn main" onclick="incrementTasbih()">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="counter-btn" onclick="changeTasbih(1)">
                        +1
                    </button>
                    <button class="counter-btn" onclick="changeTasbih(10)">
                        +10
                    </button>
                </div>
                
                <button class="btn" onclick="resetTasbih()" style="margin: 20px;">
                    <i class="fas fa-redo"></i> إعادة تعيين
                </button>
                
                <div class="presets">
                    <button class="preset-btn" onclick="setTasbih(33)">
                        سبحان الله (٣٣)
                    </button>
                    <button class="preset-btn" onclick="setTasbih(33, true)">
                        الحمد لله (٣٣)
                    </button>
                    <button class="preset-btn" onclick="setTasbih(34, true)">
                        الله أكبر (٣٤)
                    </button>
                    <button class="preset-btn" onclick="setTasbih(100)">
                        مائة تسبيحة
                    </button>
                </div>
                
                <div style="margin-top: 40px; color: #aaa; font-size: 0.9rem;">
                    <i class="fas fa-info-circle"></i> اضغط على أي زر للإضافة أو الطرح، أو استخدم الأرقام الجاهزة
                </div>
            </div>
        </section>
        
        <!-- التحديات Section -->
        <section id="challenges" class="section">
            <div class="challenges-container">
                <!-- رأس الصفحة مع الإحصائيات -->
                <div class="stats-header">
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-fire"></i></div>
                        <div class="stat-info">
                            <div class="stat-value" id="streakDays">0</div>
                            <div class="stat-label">أيام متتالية</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-star"></i></div>
                        <div class="stat-info">
                            <div class="stat-value" id="totalPoints">0</div>
                            <div class="stat-label">النقاط</div>
                        </div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-icon"><i class="fas fa-medal"></i></div>
                        <div class="stat-info">
                            <div class="stat-value" id="level">1</div>
                            <div class="stat-label">المستوى</div>
                        </div>
                    </div>
                </div>
                
                <!-- شريط تقدم المستوى -->
                <div class="level-progress">
                    <div class="level-info">
                        <div>المستوى <span id="currentLevel">1</span></div>
                        <div><span id="currentXP">0</span> / <span id="nextLevelXP">100</span> نقطة</div>
                    </div>
                    <div class="progress-bar-container">
                        <div class="level-progress-bar" id="levelProgressBar"></div>
                    </div>
                    <div style="text-align: center; color: #aaa; margin-top: 10px;">
                        <i class="fas fa-info-circle"></i> كل 100 نقطة ترفع مستواك
                    </div>
                </div>
                
                <!-- أقسام التحديات -->
                <div class="challenge-tabs">
                    <button class="challenge-tab active" onclick="showChallengeCategory('daily')">
                        <i class="fas fa-sun"></i> التحديات اليومية
                    </button>
                    <button class="challenge-tab" onclick="showChallengeCategory('weekly')">
                        <i class="fas fa-calendar-week"></i> التحديات الأسبوعية
                    </button>
                    <button class="challenge-tab" onclick="showChallengeCategory('monthly')">
                        <i class="fas fa-calendar-alt"></i> التحديات الشهرية
                    </button>
                    <button class="challenge-tab" onclick="showChallengeCategory('achievements')">
                        <i class="fas fa-trophy"></i> الإنجازات
                    </button>
                    <button class="challenge-tab" onclick="showChallengeCategory('rewards')">
                        <i class="fas fa-gift"></i> المكافآت
                    </button>
                </div>
                
                <!-- التحديات اليومية -->
                <div id="dailyChallenges" class="challenge-category">
                    <div class="challenge-grid" id="dailyChallengesGrid">
                        <!-- سيتم ملؤها بالجافاسكريبت -->
                    </div>
                </div>
                
                <!-- التحديات الأسبوعية -->
                <div id="weeklyChallenges" class="challenge-category hidden">
                    <div class="challenge-grid" id="weeklyChallengesGrid">
                        <!-- سيتم ملؤها بالجافاسكريبت -->
                    </div>
                </div>
                
                <!-- التحديات الشهرية -->
                <div id="monthlyChallenges" class="challenge-category hidden">
                    <div class="challenge-grid" id="monthlyChallengesGrid">
                        <!-- سيتم ملؤها بالجافاسكريبت -->
                    </div>
                </div>
                
                <!-- الإنجازات -->
                <div id="achievementsCategory" class="challenge-category hidden">
                    <div class="achievements-section">
                        <h2 style="margin-bottom: 20px;"><i class="fas fa-trophy"></i> إنجازاتك</h2>
                        <div class="achievements-grid" id="achievementsGrid">
                            <!-- سيتم ملؤها بالجافاسكريبت -->
                        </div>
                    </div>
                </div>
                
                <!-- المكافآت -->
                <div id="rewardsCategory" class="challenge-category hidden">
                    <div class="rewards-section">
                        <h2 style="margin-bottom: 20px;"><i class="fas fa-gift"></i> المكافآت المتاحة</h2>
                        <div class="rewards-container" id="rewardsContainer">
                            <!-- سيتم ملؤها بالجافاسكريبت -->
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
        <!-- الحديث Section -->
        <section id="hadith" class="section">
            <div class="hadith-section">
                <h2><i class="fas fa-book-open"></i> الحديث النبوي</h2>
                <p style="color: #aaa; margin-bottom: 20px; text-align: center;">أحاديث النبي صلى الله عليه وسلم مع شرحها</p>
                
                <div class="hadith-card">
                    <div class="hadith-text">
                        "مَنْ صَلَّى عَلَيَّ صَلَاةً صَلَّى اللَّهُ عَلَيْهِ بِهَا عَشْرًا"
                    </div>
                    <div class="hadith-reference">
                        رواه مسلم
                    </div>
                    <div class="hadith-explanation">
                        <strong>الشرح:</strong> هذا الحديث العظيم يبين فضل الصلاة على النبي صلى الله عليه وسلم، فمن صلى عليه مرة صلى الله عليه بها عشر مرات، وهذا من فضل الله تعالى على هذه الأمة.
                    </div>
                </div>
                
                <div class="hadith-card">
                    <div class="hadith-text">
                        "الكَلِمَةُ الطَّيِّبَةُ صَدَقَةٌ"
                    </div>
                    <div class="hadith-reference">
                        متفق عليه
                    </div>
                    <div class="hadith-explanation">
                        <strong>الشرح:</strong> الكلمة الطيبة صدقة، فكل كلمة طيبة يقولها المسلم فهي صدقة له، وهذا يشمل الدعاء، والتسبيح، والتهليل، والتكبير، والأمر بالمعروف، والنهي عن المنكر، وغير ذلك.
                    </div>
                </div>
                
                <div class="hadith-actions">
                    <button class="btn" onclick="nextHadith()">
                        <i class="fas fa-forward"></i> حديث جديد
                    </button>
                    <button class="btn-secondary" onclick="shareHadith()">
                        <i class="fas fa-share"></i> مشاركة
                    </button>
                </div>
            </div>
        </section>
        
        <!-- القبلة Section -->
        <section id="qibla" class="section">
            <div class="qibla-section">
                <h2><i class="fas fa-compass"></i> اتجاه القبلة</h2>
                <p style="color: #aaa; margin-bottom: 30px;">اعرف اتجاه القبلة من أي مكان في العالم</p>
                
                <div class="compass-container">
                    <div class="compass">
                        <div class="compass-direction north">ش</div>
                        <div class="compass-direction south">ج</div>
                        <div class="compass-direction east">ق</div>
                        <div class="compass-direction west">غ</div>
                        <div class="compass-needle" id="compassNeedle"></div>
                    </div>
                </div>
                
                <div class="qibla-info">
                    <h3 style="color: var(--gold); margin-bottom: 15px;">معلومات الاتجاه</h3>
                    <p style="margin-bottom: 10px; color: #ddd;">
                        <i class="fas fa-location-dot"></i> الموقع: تم الكشف عن موقعك تلقائياً
                    </p>
                    <p style="margin-bottom: 10px; color: #ddd;">
                        <i class="fas fa-kaaba"></i> اتجاه القبلة: <span id="qiblaDirection">جاري الحساب...</span>
                    </p>
                    <p style="margin-bottom: 10px; color: #ddd;">
                        <i class="fas fa-clock"></i> وقت الصلاة القادمة: <span id="nextPrayer">المغرب 18:45</span>
                    </p>
                    
                    <button class="btn" onclick="findQibla()" style="margin-top: 20px;">
                        <i class="fas fa-sync"></i> تحديث الاتجاه
                    </button>
                </div>
                
                <div style="margin-top: 30px; color: #aaa; font-size: 0.9rem; text-align: center;">
                    <i class="fas fa-info-circle"></i> ارفع هاتفك بشكل أفقي للحصول على اتجاه دقيق للقبلة
                </div>
            </div>
        </section>
        
        <!-- التنبيهات Section -->
        <section id="notifications" class="section">
            <div class="notifications-section">
                <h2><i class="fas fa-bell"></i> التنبيهات والتذكيرات</h2>
                <p style="color: #aaa; margin-bottom: 20px;">اضبط التنبيهات لتذكيرك بالصلوات والأذكار</p>
                
                <div class="notification-card">
                    <div class="notification-icon">
                        <i class="fas fa-mosque"></i>
                    </div>
                    <div class="notification-content">
                        <h3 style="color: var(--text); margin-bottom: 5px;">أذان الفجر</h3>
                        <p style="color: #aaa;">تذكير قبل الأذان بـ 10 دقائق</p>
                        <div class="notification-time">٥:٠٠ صباحاً</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="notification-card">
                    <div class="notification-icon">
                        <i class="fas fa-sun"></i>
                    </div>
                    <div class="notification-content">
                        <h3 style="color: var(--text); margin-bottom: 5px;">أذكار الصباح</h3>
                        <p style="color: #aaa;">تذكير بعد صلاة الفجر</p>
                        <div class="notification-time">٦:٣٠ صباحاً</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="notification-card">
                    <div class="notification-icon">
                        <i class="fas fa-moon"></i>
                    </div>
                    <div class="notification-content">
                        <h3 style="color: var(--text); margin-bottom: 5px;">أذكار المساء</h3>
                        <p style="color: #aaa;">تذكير قبل غروب الشمس</p>
                        <div class="notification-time">٥:٣٠ مساءً</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox">
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div class="notification-card">
                    <div class="notification-icon">
                        <i class="fas fa-book-quran"></i>
                    </div>
                    <div class="notification-content">
                        <h3 style="color: var(--text); margin-bottom: 5px;">قراءة القرآن</h3>
                        <p style="color: #aaa;">تذكير يومي لقراءة القرآن</p>
                        <div class="notification-time">٨:٠٠ مساءً</div>
                    </div>
                    <label class="switch">
                        <input type="checkbox" checked>
                        <span class="slider"></span>
                    </label>
                </div>
                
                <div style="margin-top: 40px; text-align: center;">
                    <button class="btn" onclick="addNotification()">
                        <i class="fas fa-plus"></i> إضافة تنبيه جديد
                    </button>
                    <button class="btn-secondary" style="margin-right: 10px;" onclick="testNotification()">
                        <i class="fas fa-bell"></i> اختبار التنبيه
                    </button>
                </div>
            </div>
        </section>
        
        <!-- صفحة المطور -->
        <section id="developer" class="section">
            <div class="developer-section">
                <div class="developer-card">
                    <div class="developer-icon">
                        <i class="fas fa-user-ninja"></i>
                    </div>
                    <h1 class="developer-name">جنيرال M</h1>
                    <div class="developer-title">مطور ومبرمج تطبيقات الويب</div>
                    
                    <div class="developer-info">
                        <p>تم تطوير تطبيق <strong>رعد</strong> بواسطة <strong>جنيرال M</strong></p>
                        <p>بهدف تسهيل العبادات اليومية للمسلمين وتشجيعهم على المواظبة عليها</p>
                        <p>التطبيق يجمع بين التكنولوجيا الحديثة والعبادات الإسلامية في تجربة سهلة وممتعة</p>
                    </div>
                    
                    <div class="features-grid">
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <h3>فكر إبداعي</h3>
                            <p>تصميم مبتكر يجمع بين الأصالة والحداثة</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-code"></i>
                            </div>
                            <h3>برمجة متقنة</h3>
                            <p>كود نظيف وسهل الصيانة والتطوير</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-heart"></i>
                            </div>
                            <h3>حب للعمل</h3>
                            <p>تطوير بقلب وروح للخدمة الإسلامية</p>
                        </div>
                        
                        <div class="feature-card">
                            <div class="feature-icon">
                                <i class="fas fa-rocket"></i>
                            </div>
                            <h3>تطوير مستمر</h3>
                            <p>تحديثات وتحسينات مستمرة للتطبيق</p>
                        </div>
                    </div>
                    
                    <div class="technologies">
                        <h2 style="text-align: center; margin-bottom: 20px; color: var(--gold);">
                            <i class="fas fa-cogs"></i> التقنيات المستخدمة
                        </h2>
                        <div class="tech-badges">
                            <span class="tech-badge">HTML5</span>
                            <span class="tech-badge">CSS3</span>
                            <span class="tech-badge">JavaScript</span>
                            <span class="tech-badge">Font Awesome</span>
                            <span class="tech-badge">Google Fonts</span>
                            <span class="tech-badge">LocalStorage</span>
                            <span class="tech-badge">Web Audio API</span>
                            <span class="tech-badge">Responsive Design</span>
                        </div>
                    </div>
                    
                    <div class="thank-you">
                        <h2 style="color: var(--gold); margin-bottom: 15px;">
                            <i class="fas fa-hands-praying"></i> شكراً لاستخدامكم تطبيق رعد
                        </h2>
                        <p style="font-size: 1.1rem; color: #ddd;">
                            أسأل الله أن يجعل هذا العمل في ميزان حسناتي وحسنات كل من ساهم فيه
                        </p>
                        <p style="margin-top: 15px; color: #aaa;">
                            "وَقُلِ اعْمَلُوا فَسَيَرَى اللَّهُ عَمَلَكُمْ وَرَسُولُهُ وَالْمُؤْمِنُونَ"
                        </p>
                        <div style="margin-top: 30px;">
                            <button class="btn" onclick="showSection('challenges')">
                                <i class="fas fa-trophy"></i> ابدأ التحديات
                            </button>
                            <button class="btn-secondary" style="margin-right: 10px;" onclick="shareApp()">
                                <i class="fas fa-share"></i> شارك التطبيق
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        
    </div>
    
    <!-- رسوم متحركة للنجاح -->
    <div class="streak-animation" id="streakAnimation">
        <div style="font-size: 4rem; color: var(--gold); margin-bottom: 20px;">
            <i class="fas fa-fire"></i>
        </div>
        <h2 id="streakTitle" style="color: var(--gold); margin-bottom: 10px;"></h2>
        <p id="streakMessage" style="font-size: 1.2rem; margin-bottom: 20px;"></p>
        <div id="streakReward" style="color: #aaa; margin-bottom: 20px;"></div>
        <button class="btn" onclick="closeStreakAnimation()">متابعة</button>
    </div>
    
    <!-- الألعاب النارية -->
    <div class="fireworks" id="fireworks"></div>
    
    <!-- Footer Navigation -->
    <div class="footer-nav">
        <button class="footer-btn" onclick="showSection('quran')">
            <i class="fas fa-quran"></i>
            <span>قرآن</span>
        </button>
        <button class="footer-btn" onclick="showSection('azkar')">
            <i class="fas fa-pray"></i>
            <span>أذكار</span>
        </button>
        <button class="footer-btn active" onclick="showSection('challenges')">
            <i class="fas fa-trophy"></i>
            <span>تحديات</span>
        </button>
        <button class="footer-btn" onclick="showSection('developer')">
            <i class="fas fa-code"></i>
            <span>مطور</span>
        </button>
        <button class="footer-btn" onclick="showSection('qibla')">
            <i class="fas fa-compass"></i>
            <span>قبلة</span>
        </button>
    </div>
    
    <script>
        // ==================== نظام التحديات ====================
        let userData = {
            points: 0,
            level: 1,
            xp: 0,
            streak: 0,
            lastLogin: null,
            completedChallenges: {},
            achievements: {},
            claimedRewards: []
        };
        
        const challengesData = {
            daily: [
                {
                    id: 'daily_1',
                    title: 'قراءة صفحة من القرآن',
                    description: 'اقرأ صفحة واحدة على الأقل من القرآن الكريم',
                    target: 1,
                    current: 0,
                    reward: 10,
                    icon: 'fas fa-quran',
                    category: 'quran'
                },
                {
                    id: 'daily_2',
                    title: 'أذكار الصباح',
                    description: 'أتم أذكار الصباح كاملة',
                    target: 1,
                    current: 0,
                    reward: 15,
                    icon: 'fas fa-sun',
                    category: 'azkar'
                },
                {
                    id: 'daily_3',
                    title: '100 تسبيحة',
                    description: 'سبح الله 100 مرة',
                    target: 100,
                    current: 0,
                    reward: 20,
                    icon: 'fas fa-hands-praying',
                    category: 'tasbih'
                },
                {
                    id: 'daily_4',
                    title: 'قراءة حديث',
                    description: 'اقرأ حديث شريف واحد',
                    target: 1,
                    current: 0,
                    reward: 8,
                    icon: 'fas fa-book-open',
                    category: 'hadith'
                },
                {
                    id: 'daily_5',
                    title: 'الصلاة في وقتها',
                    description: 'صلِّ صلاة واحدة في وقتها',
                    target: 1,
                    current: 0,
                    reward: 25,
                    icon: 'fas fa-clock',
                    category: 'prayer'
                }
            ],
            weekly: [
                {
                    id: 'weekly_1',
                    title: 'ختم جزء من القرآن',
                    description: 'أكمل قراءة جزء كامل من القرآن',
                    target: 1,
                    current: 0,
                    reward: 100,
                    icon: 'fas fa-book-quran',
                    category: 'quran',
                    duration: 'weekly'
                },
                {
                    id: 'weekly_2',
                    title: '5000 تسبيحة',
                    description: 'أتم 5000 تسبيحة خلال الأسبوع',
                    target: 5000,
                    current: 0,
                    reward: 150,
                    icon: 'fas fa-hands-praying',
                    category: 'tasbih',
                    duration: 'weekly'
                },
                {
                    id: 'weekly_3',
                    title: 'أذكار كاملة',
                    description: 'حافظ على أذكار الصباح والمساء طوال الأسبوع',
                    target: 7,
                    current: 0,
                    reward: 200,
                    icon: 'fas fa-pray',
                    category: 'azkar',
                    duration: 'weekly'
                }
            ],
            monthly: [
                {
                    id: 'monthly_1',
                    title: 'ختم القرآن',
                    description: 'أكمل ختم القرآن الكريم',
                    target: 1,
                    current: 0,
                    reward: 1000,
                    icon: 'fas fa-quran',
                    category: 'quran',
                    duration: 'monthly'
                },
                {
                    id: 'monthly_2',
                    title: 'مليون تسبيحة',
                    description: 'أتم مليون تسبيحة خلال الشهر',
                    target: 1000000,
                    current: 0,
                    reward: 5000,
                    icon: 'fas fa-hands-praying',
                    category: 'tasbih',
                    duration: 'monthly'
                },
                {
                    id: 'monthly_3',
                    title: 'الصيام المتواصل',
                    description: 'صم 10 أيام من الشهر',
                    target: 10,
                    current: 0,
                    reward: 800,
                    icon: 'fas fa-moon',
                    category: 'other',
                    duration: 'monthly'
                }
            ]
        };
        
        const achievementsData = [
            {
                id: 'ach_1',
                title: 'المبتدئ',
                description: 'أكمل أول تحدٍ',
                icon: 'fas fa-seedling',
                requirement: 'complete_1_challenge',
                points: 50
            },
            {
                id: 'ach_2',
                title: 'قارئ القرآن',
                description: 'أكمل 10 تحديات قرآنية',
                icon: 'fas fa-book-open',
                requirement: 'complete_10_quran_challenges',
                points: 200
            },
            {
                id: 'ach_3',
                title: 'الذاكر الدائم',
                description: 'أكمل 30 يوم متتالي',
                icon: 'fas fa-fire',
                requirement: '30_day_streak',
                points: 500
            },
            {
                id: 'ach_4',
                title: 'البطل',
                description: 'وصل للمستوى 10',
                icon: 'fas fa-crown',
                requirement: 'reach_level_10',
                points: 1000
            },
            {
                id: 'ach_5',
                title: 'المثابر',
                description: 'أكمل جميع التحديات اليومية لمدة أسبوع',
                icon: 'fas fa-medal',
                requirement: 'complete_all_daily_for_week',
                points: 300
            },
            {
                id: 'ach_6',
                title: 'الملتزم',
                description: 'أكمل 100 صلاة في وقتها',
                icon: 'fas fa-clock',
                requirement: '100_prayers_on_time',
                points: 400
            }
        ];
        
        const rewardsData = [
            {
                id: 'reward_1',
                title: 'شهادة المبتدئ',
                description: 'عند الوصول للمستوى 3',
                icon: 'fas fa-award',
                requirement: 'level_3',
                points: 0,
                type: 'badge'
            },
            {
                id: 'reward_2',
                title: 'خلفية ذهبية',
                description: 'عند الوصول لـ 500 نقطة',
                icon: 'fas fa-palette',
                requirement: '500_points',
                points: 0,
                type: 'theme'
            },
            {
                id: 'reward_3',
                title: 'ميزة التحديات المتقدمة',
                description: 'عند الوصول للمستوى 5',
                icon: 'fas fa-star',
                requirement: 'level_5',
                points: 0,
                type: 'feature'
            },
            {
                id: 'reward_4',
                title: 'شهادة التميز',
                description: 'عند إكمال 50 تحدياً',
                icon: 'fas fa-trophy',
                requirement: 'complete_50_challenges',
                points: 0,
                type: 'badge'
            }
        ];
        
        // تهيئة التطبيق
        function initChallenges() {
            loadUserData();
            updateStreak();
            renderAllChallenges();
            renderAchievements();
            renderRewards();
            updateStats();
        }
        
        function loadUserData() {
            const saved = localStorage.getItem('challengesData');
            if (saved) {
                userData = JSON.parse(saved);
            } else {
                userData.lastLogin = new Date().toDateString();
                saveUserData();
            }
        }
        
        function saveUserData() {
            localStorage.setItem('challengesData', JSON.stringify(userData));
        }
        
        function updateStreak() {
            const today = new Date().toDateString();
            const lastLogin = userData.lastLogin;
            
            if (lastLogin) {
                const lastLoginDate = new Date(lastLogin);
                const todayDate = new Date(today);
                const diffTime = Math.abs(todayDate - lastLoginDate);
                const diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24));
                
                if (diffDays === 1) {
                    userData.streak++;
                    showStreakAnimation();
                } else if (diffDays > 1) {
                    userData.streak = 1;
                }
            } else {
                userData.streak = 1;
            }
            
            userData.lastLogin = today;
            saveUserData();
        }
        
        function renderAllChallenges() {
            renderChallenges('daily', challengesData.daily);
            renderChallenges('weekly', challengesData.weekly);
            renderChallenges('monthly', challengesData.monthly);
        }
        
        function renderChallenges(type, challenges) {
            const container = document.getElementById(`${type}ChallengesGrid`);
            if (!container) return;
            
            container.innerHTML = '';
            
            challenges.forEach(challenge => {
                const completed = userData.completedChallenges[challenge.id] || false;
                const progress = userData.completedChallenges[`${challenge.id}_progress`] || challenge.current;
                const progressPercent = Math.min((progress / challenge.target) * 100, 100);
                
                const challengeCard = document.createElement('div');
                challengeCard.className = `challenge-card ${type} ${completed ? 'completed' : ''}`;
                challengeCard.innerHTML = `
                    ${completed ? '<div class="challenge-badge"><i class="fas fa-check"></i> مكتمل</div>' : ''}
                    <div class="challenge-header">
                        <div>
                            <div class="challenge-title">
                                <i class="${challenge.icon}"></i> ${challenge.title}
                            </div>
                            <div class="challenge-description">${challenge.description}</div>
                        </div>
                        <div style="color: var(--gold); font-weight: bold; font-size: 1.2rem;">
                            +${challenge.reward}
                        </div>
                    </div>
                    
                    <div class="challenge-reward">
                        <i class="fas fa-star"></i>
                        <span>${challenge.reward} نقطة</span>
                    </div>
                    
                    <div class="challenge-progress">
                        <div class="progress-text">
                            <span>${progress} / ${challenge.target}</span>
                            <span>${Math.round(progressPercent)}%</span>
                        </div>
                        <div class="mini-progress-bar">
                            <div class="mini-progress" style="width: ${progressPercent}%"></div>
                        </div>
                    </div>
                    
                    <div class="challenge-actions">
                        <button class="btn-complete" 
                                onclick="updateChallengeProgress('${challenge.id}', ${type === 'daily' ? 1 : challenge.target / 10})"
                                ${completed ? 'disabled' : ''}>
                            ${completed ? '<i class="fas fa-check"></i> مكتمل' : '<i class="fas fa-plus"></i> إضافة تقدم'}
                        </button>
                        ${!completed && progressPercent >= 100 ? `
                            <button class="btn-complete" style="background: var(--gold); color: black;" 
                                    onclick="completeChallenge('${challenge.id}', ${challenge.reward})">
                                <i class="fas fa-gift"></i> استلام المكافأة
                            </button>
                        ` : ''}
                    </div>
                `;
                
                container.appendChild(challengeCard);
            });
        }
        
        function renderAchievements() {
            const container = document.getElementById('achievementsGrid');
            if (!container) return;
            
            container.innerHTML = '';
            
            achievementsData.forEach(achievement => {
                const unlocked = userData.achievements[achievement.id] || false;
                
                const achievementCard = document.createElement('div');
                achievementCard.className = `achievement-card ${unlocked ? 'unlocked' : ''}`;
                achievementCard.innerHTML = `
                    <div class="achievement-icon">
                        <i class="${achievement.icon}"></i>
                    </div>
                    <div class="achievement-title">${achievement.title}</div>
                    <div class="achievement-desc">${achievement.description}</div>
                    ${unlocked ? `
                        <div style="color: var(--gold); margin-top: 10px;">
                            <i class="fas fa-star"></i> ${achievement.points} نقطة
                        </div>
                    ` : ''}
                `;
                
                container.appendChild(achievementCard);
            });
        }
        
        function renderRewards() {
            const container = document.getElementById('rewardsContainer');
            if (!container) return;
            
            container.innerHTML = '';
            
            rewardsData.forEach(reward => {
                const claimed = userData.claimedRewards.includes(reward.id);
                let canClaim = false;
                
                // التحقق من الشروط
                switch(reward.requirement) {
                    case 'level_3':
                        canClaim = userData.level >= 3;
                        break;
                    case '500_points':
                        canClaim = userData.points >= 500;
                        break;
                    case 'level_5':
                        canClaim = userData.level >= 5;
                        break;
                    case 'complete_50_challenges':
                        const completedCount = Object.keys(userData.completedChallenges).filter(k => k.includes('_')).length;
                        canClaim = completedCount >= 50;
                        break;
                }
                
                const rewardItem = document.createElement('div');
                rewardItem.className = 'reward-item';
                rewardItem.innerHTML = `
                    <div class="reward-info">
                        <div class="reward-icon">
                            <i class="${reward.icon}"></i>
                        </div>
                        <div>
                            <div style="font-weight: bold; margin-bottom: 5px;">${reward.title}</div>
                            <div style="color: #aaa; font-size: 0.9rem;">${reward.description}</div>
                        </div>
                    </div>
                    <button class="reward-claim" 
                            onclick="claimReward('${reward.id}')"
                            ${claimed ? 'disabled' : !canClaim ? 'disabled' : ''}>
                        ${claimed ? 'مستلمة' : canClaim ? 'استلام' : 'غير متاحة'}
                    </button>
                `;
                
                container.appendChild(rewardItem);
            });
        }
        
        function updateChallengeProgress(challengeId, increment = 1) {
            const progressKey = `${challengeId}_progress`;
            let currentProgress = userData.completedChallenges[progressKey] || 0;
            
            currentProgress += increment;
            userData.completedChallenges[progressKey] = currentProgress;
            
            // تحديث التقدم العام
            userData.xp += 5; // نقاط صغيرة للتقدم
            checkLevelUp();
            
            saveUserData();
            renderAllChallenges();
            updateStats();
            
            // عرض رسالة نجاح
            showNotification(`تم تحديث التقدم!`, `+5 نقاط خبرة`);
        }
        
        function completeChallenge(challengeId, rewardPoints) {
            if (userData.completedChallenges[challengeId]) {
                alert('هذا التحدي مكتمل بالفعل!');
                return;
            }
            
            userData.completedChallenges[challengeId] = true;
            userData.points += rewardPoints;
            userData.xp += rewardPoints;
            
            // التحقق من الإنجازات
            checkAchievements();
            
            // التحقق من الترقية
            checkLevelUp();
            
            saveUserData();
            renderAllChallenges();
            renderRewards();
            updateStats();
            
            // عرض رسالة النجاح
            showStreakAnimation(`تهانينا! 🎉`, `أكملت التحدي بنجاح`, `+${rewardPoints} نقطة`);
            
            // تشغيل الألعاب النارية
            createFireworks();
        }
        
        function claimReward(rewardId) {
            if (userData.claimedRewards.includes(rewardId)) {
                alert('المكافأة مستلمة بالفعل!');
                return;
            }
            
            userData.claimedRewards.push(rewardId);
            saveUserData();
            renderRewards();
            
            showNotification('مبروك! 🎁', 'تم استلام المكافأة بنجاح');
        }
        
        function checkLevelUp() {
            const xpNeeded = userData.level * 100;
            
            if (userData.xp >= xpNeeded) {
                userData.level++;
                userData.xp = userData.xp - xpNeeded;
                
                showStreakAnimation('ترقية مستوى! ⬆️', `أنت الآن في المستوى ${userData.level}`, 'مستوى جديد مفتوح!');
                
                // منح نقاط إضافية للترقية
                userData.points += 50;
            }
            
            updateStats();
        }
        
        function checkAchievements() {
            const completedChallenges = Object.keys(userData.completedChallenges).filter(k => !k.includes('_progress')).length;
            const quranChallenges = Object.keys(userData.completedChallenges).filter(k => k.includes('quran')).length;
            
            achievementsData.forEach(achievement => {
                if (!userData.achievements[achievement.id]) {
                    let conditionMet = false;
                    
                    switch(achievement.requirement) {
                        case 'complete_1_challenge':
                            conditionMet = completedChallenges >= 1;
                            break;
                        case 'complete_10_quran_challenges':
                            conditionMet = quranChallenges >= 10;
                            break;
                        case '30_day_streak':
                            conditionMet = userData.streak >= 30;
                            break;
                        case 'reach_level_10':
                            conditionMet = userData.level >= 10;
                            break;
                        case 'complete_all_daily_for_week':
                            // منطق التحقق من أسبوع كامل
                            conditionMet = userData.streak >= 7;
                            break;
                        case '100_prayers_on_time':
                            // منطق التحقق من الصلوات
                            const prayerChallenges = Object.keys(userData.completedChallenges).filter(k => k.includes('prayer')).length;
                            conditionMet = prayerChallenges >= 100;
                            break;
                    }
                    
                    if (conditionMet) {
                        userData.achievements[achievement.id] = true;
                        userData.points += achievement.points;
                        userData.xp += achievement.points;
                        
                        showNotification('إنجاز جديد! 🏆', `فتحت إنجاز: ${achievement.title}`);
                    }
                }
            });
            
            saveUserData();
        }
        
        function updateStats() {
            document.getElementById('streakDays').textContent = userData.streak;
            document.getElementById('totalPoints').textContent = userData.points;
            document.getElementById('level').textContent = userData.level;
            document.getElementById('currentLevel').textContent = userData.level;
            document.getElementById('currentXP').textContent = userData.xp;
            document.getElementById('nextLevelXP').textContent = userData.level * 100;
            
            const progressPercent = (userData.xp / (userData.level * 100)) * 100;
            document.getElementById('levelProgressBar').style.width = `${progressPercent}%`;
        }
        
        function showChallengeCategory(category) {
            // إخفاء جميع الأقسام
            document.querySelectorAll('.challenge-category').forEach(cat => {
                cat.classList.add('hidden');
            });
            
            // تحديد الأزرار النشطة
            document.querySelectorAll('.challenge-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // إظهار القسم المحدد
            document.getElementById(`${category}Challenges` || `${category}Category`).classList.remove('hidden');
            
            // تحديد الزر النشط
            event.target.classList.add('active');
        }
        
        function showStreakAnimation(title = '', message = '', reward = '') {
            document.getElementById('streakTitle').textContent = title;
            document.getElementById('streakMessage').textContent = message;
            document.getElementById('streakReward').textContent = reward;
            document.getElementById('streakAnimation').classList.add('show');
            
            // تشغيل صوت النجاح
            playSuccessSound();
        }
        
        function closeStreakAnimation() {
            document.getElementById('streakAnimation').classList.remove('show');
        }
        
        function createFireworks() {
            const container = document.getElementById('fireworks');
            container.style.display = 'block';
            
            for (let i = 0; i < 50; i++) {
                const firework = document.createElement('div');
                firework.className = 'firework';
                firework.style.left = `${Math.random() * 100}%`;
                firework.style.top = `${Math.random() * 100}%`;
                firework.style.background = getRandomColor();
                container.appendChild(firework);
                
                setTimeout(() => {
                    firework.remove();
                }, 1000);
            }
            
            setTimeout(() => {
                container.style.display = 'none';
                container.innerHTML = '';
            }, 1100);
        }
        
        function getRandomColor() {
            const colors = ['#FFD700', '#FF6B6B', '#4ECDC4', '#45B7D1', '#96CEB4', '#FFEAA7'];
            return colors[Math.floor(Math.random() * colors.length)];
        }
        
        function playSuccessSound() {
            // استخدام Web Audio API لصوت النجاح
            if (window.AudioContext) {
                const audioContext = new (window.AudioContext || window.webkitAudioContext)();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                // لحن نجاح بسيط
                oscillator.frequency.setValueAtTime(523.25, audioContext.currentTime); // C5
                oscillator.frequency.setValueAtTime(659.25, audioContext.currentTime + 0.1); // E5
                oscillator.frequency.setValueAtTime(783.99, audioContext.currentTime + 0.2); // G5
                
                oscillator.type = 'sine';
                gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.start();
                oscillator.stop(audioContext.currentTime + 0.5);
            }
        }
        
        function showNotification(title, message) {
            // استخدام إشعارات المتصفح
            if ("Notification" in window && Notification.permission === "granted") {
                new Notification(title, { 
                    body: message,
                    icon: "https://cdn-icons-png.flaticon.com/512/2107/2107845.png"
                });
            }
            
            // أو عرض إشعار مخصص
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                left: 20px;
                background: var(--gold);
                color: black;
                padding: 15px 25px;
                border-radius: 10px;
                box-shadow: 0 5px 15px rgba(0,0,0,0.3);
                z-index: 10000;
                animation: slideIn 0.3s ease;
            `;
            
            notification.innerHTML = `
                <strong>${title}</strong><br>
                ${message}
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
            }, 3000);
        }
        
        // وظيفة مشاركة التطبيق
        function shareApp() {
            if (navigator.share) {
                navigator.share({
                    title: 'تطبيق رعد - تطبيق إسلامي متكامل',
                    text: 'جرب تطبيق رعد للقرآن، الأذكار، والتحديات الإسلامية!',
                    url: window.location.href
                });
            } else {
                // طريقة بديلة للمتصفحات التي لا تدعم Web Share API
                const text = 'تطبيق رعد - تطبيق إسلامي متكامل للقرآن والأذكار\nتم التطوير بواسطة جنيرال M\n' + window.location.href;
                navigator.clipboard.writeText(text).then(() => {
                    alert('تم نسخ رابط التطبيق! يمكنك مشاركته الآن.');
                });
            }
        }
        
        // ==================== وظائف الأقسام الجديدة ====================
        
        // القرآن الكريم
        function playAudio(action) {
            const playBtn = document.querySelector('.player-btn:nth-child(2) i');
            
            if (action === 'play') {
                playBtn.className = 'fas fa-pause';
                showNotification('التشغيل', 'جاري تشغيل سورة الفاتحة');
            } else if (action === 'pause') {
                playBtn.className = 'fas fa-play';
                showNotification('الإيقاف', 'تم إيقاف التشغيل مؤقتاً');
            } else {
                showNotification('التنقل', 'جاري التنقل بين السور');
            }
        }
        
        function selectSurah(number) {
            const surahs = {
                1: { name: 'الفاتحة', verses: 7, type: 'مكية' },
                2: { name: 'البقرة', verses: 286, type: 'مدنية' },
                3: { name: 'آل عمران', verses: 200, type: 'مدنية' },
                114: { name: 'الناس', verses: 6, type: 'مكية' }
            };
            
            const surah = surahs[number];
            showNotification(`سورة ${surah.name}`, `${surah.type} • ${surah.verses} آية`);
        }
        
        // الأذكار
        let currentCount = 1;
        
        function showZekrCategory(category) {
            document.querySelectorAll('.azkar-tab').forEach(tab => tab.classList.remove('active'));
            event.target.classList.add('active');
            
            // في التطبيق الحقيقي، هنا سيتم تغيير محتوى الأذكار
            showNotification('التحديث', `تم التبديل إلى ${category === 'morning' ? 'أذكار الصباح' : 
                category === 'evening' ? 'أذكار المساء' : 
                category === 'prayer' ? 'أذكار بعد الصلاة' : 'أذكار النوم'}`);
        }
        
        function changeCount(amount) {
            const countDisplay = event.target.parentElement.querySelector('.count-display');
            let count = parseInt(countDisplay.textContent);
            count += amount;
            if (count < 0) count = 0;
            if (count > 100) count = 100;
            countDisplay.textContent = count;
            
            if (amount > 0) {
                // صوت التسبيح
                if (window.AudioContext) {
                    const audioContext = new AudioContext();
                    const oscillator = audioContext.createOscillator();
                    const gainNode = audioContext.createGain();
                    
                    oscillator.frequency.setValueAtTime(400, audioContext.currentTime);
                    gainNode.gain.setValueAtTime(0.1, audioContext.currentTime);
                    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.1);
                    
                    oscillator.connect(gainNode);
                    gainNode.connect(audioContext.destination);
                    
                    oscillator.start();
                    oscillator.stop(audioContext.currentTime + 0.1);
                }
            }
        }
        
        // المسبحة
        let tasbihCount = 0;
        
        function incrementTasbih() {
            tasbihCount++;
            document.getElementById('counter').textContent = tasbihCount;
            
            // صوت التسبيح
            playTasbihSound();
            
            // تحريك الرقم
            const counter = document.getElementById('counter');
            counter.style.transform = 'scale(1.1)';
            setTimeout(() => {
                counter.style.transform = 'scale(1)';
            }, 100);
            
            // تحديث التحديات إذا كان مناسباً
            if (tasbihCount % 100 === 0) {
                showNotification('مبارك!', `أتممت ${tasbihCount} تسبيحة!`);
            }
        }
        
        function changeTasbih(amount) {
            tasbihCount += amount;
            if (tasbihCount < 0) tasbihCount = 0;
            document.getElementById('counter').textContent = tasbihCount;
            
            if (amount > 0) {
                playTasbihSound();
            }
        }
        
        function setTasbih(value, isTotal = false) {
            if (isTotal) {
                tasbihCount = value;
            } else {
                tasbihCount += value;
            }
            document.getElementById('counter').textContent = tasbihCount;
            playTasbihSound();
            
            showNotification('المسبحة', `تم ضبط العداد على ${value}`);
        }
        
        function resetTasbih() {
            tasbihCount = 0;
            document.getElementById('counter').textContent = tasbihCount;
            showNotification('إعادة تعيين', 'تم إعادة تعيين المسبحة');
        }
        
        function playTasbihSound() {
            if (window.AudioContext) {
                const audioContext = new AudioContext();
                const oscillator = audioContext.createOscillator();
                const gainNode = audioContext.createGain();
                
                oscillator.frequency.setValueAtTime(300, audioContext.currentTime);
                gainNode.gain.setValueAtTime(0.2, audioContext.currentTime);
                gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.2);
                
                oscillator.connect(gainNode);
                gainNode.connect(audioContext.destination);
                
                oscillator.start();
                oscillator.stop(audioContext.currentTime + 0.2);
            }
        }
        
        // الحديث
        function nextHadith() {
            const hadiths = [
                {
                    text: '"اتَّقِ اللهَ حَيْثُمَا كُنْتَ، وَأَتْبِعِ السَّيِّئَةَ الْحَسَنَةَ تَمْحُهَا، وَخَالِقِ النَّاسَ بِخُلُقٍ حَسَنٍ"',
                    reference: 'رواه الترمذي',
                    explanation: 'هذا الحديث جامع لخصال الخير، فأمر بتقوى الله في كل حال، وبإتباع السيئة بالحسنة لمحو أثرها، وبحسن الخلق مع الناس.'
                },
                {
                    text: '"مَنْ كَانَ يُؤْمِنُ بِاللَّهِ وَالْيَوْمِ الْآخِرِ فَلْيَقُلْ خَيْرًا أَوْ لِيَصْمُتْ"',
                    reference: 'متفق عليه',
                    explanation: 'هذا الحديث يدعو المسلم إلى حفظ لسانه، فإما أن يتكلم بالخير وإما أن يسكت، وذلك من علامات الإيمان الكامل.'
                },
                {
                    text: '"تَبَسُّمُكَ فِي وَجْهِ أَخِيكَ لَكَ صَدَقَةٌ"',
                    reference: 'رواه الترمذي',
                    explanation: 'التبسم في وجه المسلم صدقة، وهو من أسهل العبادات وأعظمها أجراً، مما يدل على سماحة الإسلام وسهولته.'
                }
            ];
            
            const randomHadith = hadiths[Math.floor(Math.random() * hadiths.length)];
            
            const hadithCard = document.querySelector('.hadith-card');
            hadithCard.querySelector('.hadith-text').textContent = randomHadith.text;
            hadithCard.querySelector('.hadith-reference').textContent = randomHadith.reference;
            hadithCard.querySelector('.hadith-explanation').innerHTML = `<strong>الشرح:</strong> ${randomHadith.explanation}`;
            
            showNotification('حديث جديد', 'تم تحميل حديث نبوي شريف جديد');
        }
        
        function shareHadith() {
            const hadithText = document.querySelector('.hadith-text').textContent;
            const text = `حديث شريف:\n${hadithText}\n\nتطبيق رعد - ${window.location.href}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'حديث نبوي شريف',
                    text: text
                });
            } else {
                navigator.clipboard.writeText(text).then(() => {
                    alert('تم نسخ الحديث! يمكنك مشاركته الآن.');
                });
            }
        }
        
        // القبلة
        function findQibla() {
            // في التطبيق الحقيقي، هنا سيتم استخدام GPS و API لحساب القبلة
            // لكن هنا سنعرض محاكاة
            
            const directions = ['شمال شرق', 'شرق', 'جنوب شرق', 'جنوب', 'جنوب غرب', 'غرب', 'شمال غرب', 'شمال'];
            const randomDirection = directions[Math.floor(Math.random() * directions.length)];
            const randomAngle = Math.floor(Math.random() * 360);
            
            document.getElementById('qiblaDirection').textContent = randomDirection;
            document.getElementById('compassNeedle').style.transform = `translateY(-50%) rotate(${randomAngle}deg)`;
            
            // تحديث وقت الصلاة (محاكاة)
            const prayers = ['الفجر 4:30', 'الشروق 5:45', 'الظهر 12:15', 'العصر 15:45', 'المغرب 18:45', 'العشاء 20:15'];
            const nextPrayer = prayers[Math.floor(Math.random() * prayers.length)];
            document.getElementById('nextPrayer').textContent = nextPrayer;
            
            showNotification('القبلة', `تم تحديث اتجاه القبلة إلى ${randomDirection}`);
        }
        
        // التنبيهات
        function addNotification() {
            const time = prompt('أدخل وقت التنبيه (مثال: 08:30):');
            if (time) {
                const title = prompt('أدخل عنوان التنبيه:');
                if (title) {
                    showNotification('تم الإضافة', `تم إضافة تنبيه جديد لـ ${title} على الساعة ${time}`);
                    
                    // في التطبيق الحقيقي، هنا سيتم إضافة التنبيه للقائمة
                }
            }
        }
        
        function testNotification() {
            if ("Notification" in window) {
                if (Notification.permission === "granted") {
                    new Notification("اختبار تنبيه من تطبيق رعد", {
                        body: "هذا تنبيه تجريبي للتأكد من عمل النظام",
                        icon: "https://cdn-icons-png.flaticon.com/512/2107/2107845.png"
                    });
                } else if (Notification.permission !== "denied") {
                    Notification.requestPermission().then(permission => {
                        if (permission === "granted") {
                            new Notification("اختبار تنبيه من تطبيق رعد", {
                                body: "هذا تنبيه تجريبي للتأكد من عمل النظام",
                                icon: "https://cdn-icons-png.flaticon.com/512/2107/2107845.png"
                            });
                        }
                    });
                }
            }
            
            showNotification('اختبار التنبيه', 'تم إرسال تنبيه تجريبي');
        }
        
        // إضافة أنماط CSS للرسوم المتحركة
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from { transform: translateX(-100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
        `;
        document.head.appendChild(style);
        
        // ==================== وظائف الأقسام الأخرى ====================
        function showSection(id) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active-section'));
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.footer-btn').forEach(b => b.classList.remove('active'));
            
            document.getElementById(id).classList.add('active-section');
            document.getElementById('m-' + id).classList.add('active');
            document.querySelector(`.footer-btn[onclick="showSection('${id}')"]`).classList.add('active');
            
            // إذا كان القسم هو التحديات، نقوم بتهيئته
            if (id === 'challenges') {
                initChallenges();
            }
            
            // إذا كان القسم هو القبلة، نحدد الاتجاه
            if (id === 'qibla') {
                setTimeout(findQibla, 500);
            }
        }
        
        // تشغيل التطبيق عند التحميل
        window.addEventListener('load', () => {
            initChallenges();
            findQibla(); // بدء تحديد القبلة
            
            // طلب إذن الإشعارات
            if ("Notification" in window && Notification.permission === "default") {
                Notification.requestPermission();
            }
        });
    </script>
</body>
</html>